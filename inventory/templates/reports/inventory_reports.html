{% extends "base.html" %}
{% load staticfiles %}

{% block content %}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Inventory Report</h1>
    </div>
</div>

<div class="row">
    <div class="col-lg-3">
        <form class="form" method="GET" action="/reports/inventory">
            <div class="form-group">
                <label>Report Type</label>
                <select class="form-control" name="filter" onchange="form.submit();">
                    <option value="1">Low Stock</option>
                    <option value="2">On Hand</option>
                    <option value="3">All Levels</option>
                    <option value="4">Product Performance Report</option>
                </select>
            </div>
        </form>
    </div>
    <div class="col-lg-9">
        <div class="export-btn-group">
            <a href="#" class="btn btn-success">Filter</a>
            <a href="#" class="btn btn-default">Export Data</a>
        </div>
    </div>
</div>
<br>
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">Inventory Levels Chart</div>
            <div class="panel-body">
                <div class="flot-chart">
                    <div class="flot-chart-content" id="inventory-bar" style="padding: 0px; position: relative;width:100%;height:100%;"></div>
                </div>
                <!-- <div id="low-stock-chart" style="height:250px;"></div> -->
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12"> 
        <div class="panel panel-default">
            <div class="panel-heading">Inventory Levels Status</div>
            <div class="panel-body">
                {% if items_length > 0 %}
                <table class="table table-striped table-hover table-condensed">
                    <thead>
                        <tr>
                            <th>Item Description</th>
                            <th>Supplier</th>
                            <th>Store Stock</th>
                            <th>Warehouse Stock</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in items %}
                        <tr>
                            <td>{{ item.category }} {{ item.brand }} {{item.model}}</td>
                            <td>{{ item.supplier.name }}</td>
                            <td>{{ item.store_quantity }}</td>
                            <td>{{ item.warehouse_quantity }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% else %}
                <p>No items in inventory</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock content %}
{% block scripts %}
    <!-- Flot Charts JavaScript  -->
    <script src="/static/components/flot/excanvas.min.js"></script>
    <script src="/static/components/flot/jquery.flot.js"></script>
    <script src="/static/components/flot/jquery.flot.pie.js"></script>
    <script src="/static/components/flot/jquery.flot.resize.js"></script>
    <script src="/static/components/flot/jquery.flot.time.js"></script>
    <script src="/static/components/flot.tooltip/js/jquery.flot.tooltip.min.js"></script>
    <script src="/static/components/dashboard/js/flot-data.js"></script>
    
    <!-- Morris Charts Plugin
    <script src="/static/components/raphael/raphael-min.js"></script>
    <script src="/static/components/morrisjs/morris.min.js"></script> -->
    <!-- <script src="/static/components/dashboard/js/morris-data.js"></script> -->
{% endblock%}